
float CHARACTERISTICS[] = {0.0, 0.4, 0.4, 0.3, 0.5, 0.5, 2.2, 1.4, 1.5, 1.2, 1.0, 0.6, 0.5, 0.1, 3.8, 3.4, 2.7, 1.9, 1.4, 1.0, 0.6, -0.2, 6.6, 6.0, 5.6, 4.8, 4.6, 4.1, 3.6, 3.5, 11.7, 10.8, 9.6, 9.0, 8.1, 7.6, 6.2, 15.0, 15.4, 14.2, 13.0, 11.8, 10.4, 11.4, 22.1, 20.1, 18.5, 17.1, 15.2, 7.8, 16.6, 24.2, 21.5, 20.7, 18.7, 15.2, 13.0, 28.0, 27.4, 25.5, 24.1, 22.2, 14.4, 22.4, 34.3, 31.6, 28.2, 25.8, 21.2, 17.0, 30.6, 35.7, 32.5, 29.9, 27.3, 17.2, 20.5, 41.6, 38.3, 35.1, 32.3, 26.2, 20.9, 31.4, 44.4, 41.0, 37.5, 33.4, 21.5, 24.8, 46.8, 47.0, 43.2, 39.9, 29.3, 25.4, 35.3, 53.4, 49.1, 45.2, 37.9, 26.0, 28.7, 42.9, 55.6, 51.3, 47.1, 32.1, 29.5, 32.7, 62.3, 57.1, 52.8, 43.9, 30.3, 33.0, 46.3, 63.8, 59.0, 54.6, 31.8, 33.8, 36.6, 64.9, 65.2, 60.3, 48.4, 34.5, 36.9, 48.7, 72.1, 66.1, 61.4, 36.3, 36.4, 42.0, 55.7, 75.3, 69.7, 56.6, 40.2, 42.3, 44.2, 82.8, 76.5, 68.1, 41.7, 43.6, 45.4, 57.7, 83.5, 76.7, 54.0, 41.8, 45.8, 47.5, 83.8, 83.4, 69.0, 45.4, 46.9, 48.2, 52.8, 89.0, 82.9, 45.9, 46.8, 48.0, 50.8, 67.4, 91.2, 71.4, 49.6, 51.3, 52.5, 53.8, 99.3, 91.4, 50.8, 51.5, 52.4, 53.9, 80.5, 98.1, 63.1, 53.4, 54.2, 55.1, 56.5, 105.6, 79.8, 55.1, 55.7, 56.5, 57.4, 92.8, 103.5, 56.9, 57.0, 57.9, 58.0, 72.5, 108.7, 67.9, 56.6, 56.6, 57.5, 58.3, 95.4, 76.8, 59.0, 59.2, 60.1, 60.4, 80.6, 100.2, 62.6, 62.8, 63.4, 63.5, 63.6, 101.4, 81.4, 62.9, 63.4, 63.7, 63.3, 84.2, 84.4, 63.1, 64.1, 64.2, 65.1, 65.1, 85.8, 65.7, 64.3, 66.1, 66.2, 66.6, 88.3, 89.4, 67.1, 67.5, 68.5, 68.7, 68.7, 76.4, 69.0, 69.2, 69.1, 69.5, 70.1, 71.0, 71.6};

int hallpin = 1;
int hallval = 0;
int electromagnet_pin = 10;
int data[255];
int init_hallval;
int num = 0;
int total;
void setup() {
  // put your setup code here, to run once:

  Serial.begin(9600);
  pinMode(hallpin, OUTPUT);
  Serial.println("Starting program");
  pinMode(electromagnet_pin, OUTPUT);


  analogWrite(electromagnet_pin, 0);
  init_hallval = analogRead(hallpin);

  for (int m=0; m<10; m++) {

    Serial.print("Data to store in data");
    Serial.print(m+1);
    Serial.print("\r\n");
    
    for (int i=0; i<255; i++) {
      
      analogWrite(electromagnet_pin, i);
      total = 0;
      
      for (int j=0; j<100; j++) {
        
        delay(5);
        total += init_hallval - analogRead(hallpin);
        
      }
      Serial.print(total/100);
      Serial.print("\r\n");
    }
  }


}
void loop() {
  // put your main code here, to run repeatedly:
  

}
